<h1 class="title is-size-2 my-4">Timeline</h1>

<% if user_signed_in? %>
  <%= turbo_frame_tag @post do %>
    <%= link_to 'Create New Post', new_post_path, class: 'button is-info' %>
  <% end %>
<% end %>

<article class="columns is-multiline is-1 is-variable my-3">
  <% @timeline.each do |resource| %>
    <div class="column is-half-tablet is-one-quarter-desktop">
      <%= render resource, like: resource.find_or_initialize_like(current_user), tags: resource.tag_list.to_a, compact?: true %>
    </div>
  <% end %>
</article>

<nav class="pagination" role="navigation" aria-label="pagination">
  <% if @page > 1 %>
    <%= link_to 'Previous', root_path(page: @page - 1), class: 'pagination-previous' %>
  <% end %>
  <% if @timeline.any? %>
    <%= link_to 'Next', root_path(page: @page + 1), class: 'pagination-next' %>
  <% end %>
  <ul class="pagination-list">
    <li>
      <%= link_to 'First Page', root_path(page: 1), class: 'pagination-link', 'aria-label' => 'Go to first page' %>
    </li>
  </ul>
</nav>
